# Analytics Service Environment Variables
# Add these to your .env file in services/analytics-service/

# ==============================================
# DATABASE CONFIGURATION
# ==============================================
DATABASE_URL=postgresql://qr_user:qr_password@localhost:5432/qr_saas
DB_HOST=localhost
DB_PORT=5432
DB_NAME=qr_saas
DB_USER=qr_user
DB_PASSWORD=qr_password
DB_MAX_CONNECTIONS=20

# ==============================================
# REDIS CONFIGURATION (for caching and real-time)
# ==============================================
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TTL=3600  # Cache TTL in seconds (1 hour)

# ==============================================
# SERVER CONFIGURATION
# ==============================================
PORT=3003
NODE_ENV=development
JWT_SECRET=your-super-secret-jwt-key-change-in-production
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ==============================================
# WEBSOCKET CONFIGURATION (Real-time Analytics)
# ==============================================
WEBSOCKET_PORT=3003
WEBSOCKET_PATH=/socket.io
WEBSOCKET_CORS_ORIGINS=http://localhost:3000

# ==============================================
# ADVANCED ANALYTICS FEATURES
# ==============================================
ENABLE_CUSTOM_DASHBOARDS=true
ENABLE_REALTIME_ALERTS=true
ENABLE_PREDICTIVE_ANALYTICS=true
ENABLE_CROSS_CAMPAIGN_ANALYSIS=true

# ==============================================
# MACHINE LEARNING CONFIGURATION
# ==============================================
ML_MODEL_UPDATE_INTERVAL=86400000  # 24 hours in milliseconds
ARIMA_AUTO_PARAMS=true
LSTM_EPOCHS=50
PROPHET_SEASONALITY_MODE=multiplicative
CONFIDENCE_LEVEL=0.95
ML_PREDICTION_HORIZON=30  # days
ML_MIN_TRAINING_DATA=100  # minimum data points for training

# ==============================================
# ALERT SYSTEM CONFIGURATION
# ==============================================
DEFAULT_ALERT_EMAIL=admin@yourcompany.com
ALERT_WEBHOOK_TIMEOUT=5000
ALERT_MAX_RETRIES=3
ALERT_RETRY_DELAY=1000  # milliseconds
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
EMAIL_ALERT_TEMPLATE=alert_template
SMS_ALERT_PROVIDER=twilio

# ==============================================
# DASHBOARD CONFIGURATION
# ==============================================
MAX_WIDGETS_PER_DASHBOARD=20
DEFAULT_DASHBOARD_THEME=light
DASHBOARD_AUTO_REFRESH_INTERVAL=30000  # 30 seconds
MAX_DASHBOARDS_PER_USER=10
DASHBOARD_EXPORT_FORMAT=pdf,excel,csv

# ==============================================
# CROSS-CAMPAIGN ANALYTICS
# ==============================================
AB_TEST_MIN_SAMPLE_SIZE=100
AB_TEST_DEFAULT_CONFIDENCE=0.95
AB_TEST_MAX_DURATION_DAYS=90
COHORT_MAX_PERIODS=12
ATTRIBUTION_LOOKBACK_DAYS=30
FUNNEL_MAX_STEPS=10

# ==============================================
# PERFORMANCE OPTIMIZATION
# ==============================================
ANALYTICS_BATCH_SIZE=1000
ANALYTICS_PROCESSING_INTERVAL=5000  # milliseconds
MAX_CONCURRENT_QUERIES=10
QUERY_TIMEOUT=30000  # milliseconds
ENABLE_QUERY_OPTIMIZATION=true

# ==============================================
# EXPORT CONFIGURATION
# ==============================================
EXPORT_MAX_RECORDS=100000
EXPORT_TIMEOUT=300000  # 5 minutes
EXCEL_MAX_WORKSHEETS=10
PDF_MAX_PAGES=50
EXPORT_STORAGE_PATH=/tmp/exports

# ==============================================
# LOGGING CONFIGURATION
# ==============================================
LOG_LEVEL=info  # error, warn, info, debug
LOG_FORMAT=combined
ENABLE_QUERY_LOGGING=false  # Set to true for debugging
LOG_FILE_PATH=/var/log/analytics-service.log

# ==============================================
# SECURITY CONFIGURATION
# ==============================================
RATE_LIMIT_WINDOW=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=1000
API_KEY_HEADER=x-api-key
ENCRYPTION_KEY=your-32-character-encryption-key
ENABLE_API_RATE_LIMITING=true

# ==============================================
# MONITORING & HEALTH CHECKS
# ==============================================
HEALTH_CHECK_INTERVAL=30000  # 30 seconds
ENABLE_METRICS_COLLECTION=true
METRICS_ENDPOINT=/metrics
ENABLE_PERFORMANCE_MONITORING=true